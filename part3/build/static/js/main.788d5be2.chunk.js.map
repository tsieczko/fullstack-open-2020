{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/AppService.js","components/Notification.js","App.js","index.js"],"names":["Filter","props","value","filter","onChange","handleFilterChange","PersonForm","newName","handleNewNameChange","newNumber","handleNewNumberChange","type","onClick","addPerson","Person","person","deletePerson","name","number","Persons","persons","map","key","id","url","axios","get","then","response","data","post","delete","put","Notification","message","error","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setFilter","setNewName","setNewNumber","notification","setNotification","useEffect","AppService","records","event","target","preventDefault","some","existingPerson","find","updatedPerson","setTimeout","catch","addedPerson","concat","toLowerCase","includes","targetPerson","window","confirm","deletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.788d5be2.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={props.filter} onChange={props.handleFilterChange}/>\n\t\t</div>\n\t)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) => {\n\treturn(\n\t\t<form>\n\t\t\t<div>\n\t\t\t\t<h3>Add a person</h3>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tname: <input value={props.newName} onChange={props.handleNewNameChange} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input value={props.newNumber} onChange={props.handleNewNumberChange}/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit' onClick={props.addPerson}>add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({person, deletePerson}) => {\n\treturn (\n\t\t<div>\n\t\t\t{person.name} {person.number}\n\t\t\t<button onClick={deletePerson(person)}>delete</button>\n\t\t</div>\n\t)\n}\n\nconst Persons = ({persons, deletePerson}) => {\n\treturn (\n\t\t<div>\n\t\t\t<h3>Numbers</h3>\n\t\t\t{persons.map(person =>\n\t\t\t\t<Person\n\t\t\t\t\tkey={person.id}\n\t\t\t\t\tperson={person}\n\t\t\t\t\tdeletePerson={deletePerson}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default Persons\n","import axios from 'axios'\n\nconst url = 'api/persons'\n\nconst getAll = () => {\n\treturn axios.get(url)\n\t\t.then(response => response.data)\n}\n\nconst addPerson = (person) => {\n\treturn axios.post(url, person)\n\t\t.then(response => response.data)\n}\n\nconst deletePerson = (person) => {\n\treturn axios.delete(`${url}/${person.id}`)\n\t\t.then(response => response.data)\n}\n\nconst updatePerson = (person) => {\n\treturn axios.put(`${url}/${person.id}`, person)\n\t\t.then(response => response.data)\n}\n\nexport default {getAll, addPerson, deletePerson, updatePerson}\n","import React from 'react'\n\nconst Notification = ({message, error}) => {\n\tconst style = {\n\t\tcolor: 'green',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\tif (error === true) {\n\t\tstyle.color = 'red'\n\t}\n\n\treturn (\n\t\t<div style={style}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification\n","import React, {useState, useEffect} from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport AppService from './services/AppService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [filter, setFilter] = useState('')\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [notification, setNotification] = useState({\n\t\tmessage: null,\n\t\terror: false\n\t})\n\n\tuseEffect(() => {\n\t\tAppService.getAll()\n\t\t\t.then(records => setPersons(records))\n\t}, [])\n\n\tconst handleNewNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\tconst handleNewNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\tconst handleFilterChange = (event) => {\n\t\tsetFilter(event.target.value)\n\t}\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tif (persons.some(person => person.name === newName)) {\n\t\t\tconst existingPerson = persons.find(person => person.name === newName)\n\t\t\tconst updatedPerson = {\n\t\t\t\t...existingPerson,\n\t\t\t\tnumber: newNumber\n\t\t\t}\n\t\t\tAppService.updatePerson(updatedPerson)\n\t\t\t\t.then(updatedPerson => {\n\t\t\t\t\tsetPersons(persons.map(person => {\n\t\t\t\t\t\treturn person.name === updatedPerson.name\n\t\t\t\t\t\t\t? updatedPerson\n\t\t\t\t\t\t\t: person\n\t\t\t\t\t}))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Updated number for ${updatedPerson.name}`,\n\t\t\t\t\t\terror: false\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t\t\t.catch(addedPerson => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Failed to update ${updatedPerson.name}.`,\n\t\t\t\t\t\terror: true\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tAppService.addPerson({\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber\n\t\t\t})\n\t\t\t\t.then(addedPerson => {\n\t\t\t\t\tsetPersons(persons.concat(addedPerson))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Added ${addedPerson.name}`,\n\t\t\t\t\t\terror: false\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t\t\t.catch(addedPerson => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Failed to add ${addedPerson.name}.`,\n\t\t\t\t\t\terror: true\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst deletePerson = (targetPerson) => (event) => {\n\t\tevent.preventDefault()\n\t\tif (window.confirm(`Delete ${targetPerson.name}?`)) {\n\t\t\tAppService.deletePerson(targetPerson)\n\t\t\t\t.then(deletedPerson => {\n\t\t\t\t\tsetPersons(persons.filter(person => person !== targetPerson))\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Deleted ${targetPerson.name}`,\n\t\t\t\t\t\terror: false\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t\t\t.catch(deletedPerson => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${targetPerson.name} has already been deleted from the server`,\n\t\t\t\t\t\terror: true\n\t\t\t\t\t})\n\t\t\t\t\tsetTimeout(() => setNotification({message: null, error: false}), 5000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={notification.message} error={notification.error}/>\n\t\t\t<Filter filter={filter} handleFilterChange={handleFilterChange}/>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName} handleNewNameChange={handleNewNameChange}\n\t\t\t\tnewNumber={newNumber} handleNewNumberChange={handleNewNumberChange}\n\t\t\t\taddPerson={addPerson}\n\t\t\t/>\n\t\t\t<Persons\n\t\t\t\tpersons={persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))}\n\t\t\t\tdeletePerson={deletePerson}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}